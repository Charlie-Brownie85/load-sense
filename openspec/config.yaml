schema: spec-driven

context: |
  LoadSense is a Next.js 16 SPA for ACWR-based training load monitoring.
  Stack: TypeScript (strict), React 19, Next.js 16 App Router, Tailwind CSS v4
  (theme in globals.css, no config file), Prisma 7 with libSQL, Vitest + RTL.
  Architecture: Feature-Sliced Design (FSD) with strict layer imports:
    app → widgets → features → entities → shared
  Each slice has a barrel index.ts. Path alias: @/* → ./src/*.
  No external UI libraries — all components built with Tailwind + React primitives.
  Material Symbols Outlined for icons. Server components are thin orchestrators.
  Tests co-located as __tests__/ directories within each slice.

rules:
  proposal:
    - Keep proposals under 400 words
    - Always include Non-Goals to set boundaries
    - Reference the specific FSD layers that will be affected
  specs:
    - Each spec must state which FSD layer(s) the component belongs to
    - Include the import rule compliance check (what it imports, from which layer)
    - Define test scenarios for any new shared/lib or UI component
  design:
    - Show the FSD directory tree for any new or moved files
    - Justify layer placement for every new component or module
    - Note any cross-layer dependency that is new or changed
  tasks:
    - Group tasks into numbered parallel batches
    - Within a batch, tasks MUST be independent (no shared file edits)
    - Between batches, prior batch must be fully complete
    - Use format "## Batch N — <theme>" with dependency notes
    - Target 2-4 parallel tasks per batch
    - Every task that creates or modifies a function/component must have a corresponding unit test task in the same or next batch
    - Always include a final verification batch (tsc, lint, test, build)
